{
   "apiVersion": "v1",
   "data": {
      "knative-eventing-efficiency.json": "{\n    \"description\": \"Dashboard for Knative Eventing Control Plane Efficiency\\n(https://github.com/knative/eventing)\\n\",\n    \"graphTooltip\": 1,\n    \"panels\": [\n        {\n            \"collapsed\": false,\n            \"gridPos\": {\n                \"h\": 1,\n                \"w\": 24,\n                \"x\": 0,\n                \"y\": 0\n            },\n            \"id\": 1,\n            \"panels\": [\n\n            ],\n            \"title\": \"Controller\",\n            \"type\": \"row\"\n        },\n        {\n            \"datasource\": {\n                \"type\": \"datasource\",\n                \"uid\": \"-- Mixed --\"\n            },\n            \"description\": \"CPU usage of each running instance\",\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"custom\": {\n                        \"fillOpacity\": 10,\n                        \"gradientMode\": \"hue\",\n                        \"showPoints\": \"never\"\n                    }\n                }\n            },\n            \"gridPos\": {\n                \"h\": 8,\n                \"w\": 6,\n                \"x\": 0,\n                \"y\": 1\n            },\n            \"id\": 2,\n            \"interval\": \"5s\",\n            \"options\": {\n                \"legend\": {\n                    \"calcs\": [\n                        \"last\",\n                        \"max\"\n                    ],\n                    \"displayMode\": \"table\"\n                }\n            },\n            \"pluginVersion\": \"v11.4.0\",\n            \"targets\": [\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (irate(container_cpu_usage_seconds_total{container=\\\"eventing-controller\\\",namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-controller-.*\\\"}[$__rate_interval]))\",\n                    \"legendFormat\": \"Container ({{pod}})\"\n                }\n            ],\n            \"title\": \"CPU Usage\",\n            \"type\": \"timeseries\"\n        },\n        {\n            \"datasource\": {\n                \"type\": \"datasource\",\n                \"uid\": \"-- Mixed --\"\n            },\n            \"description\": \"Memory usage of each running instance\",\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"custom\": {\n                        \"fillOpacity\": 10,\n                        \"gradientMode\": \"hue\",\n                        \"showPoints\": \"never\"\n                    },\n                    \"unit\": \"bytes\"\n                }\n            },\n            \"gridPos\": {\n                \"h\": 8,\n                \"w\": 6,\n                \"x\": 6,\n                \"y\": 1\n            },\n            \"id\": 3,\n            \"interval\": \"5s\",\n            \"options\": {\n                \"legend\": {\n                    \"calcs\": [\n                        \"last\",\n                        \"max\"\n                    ],\n                    \"displayMode\": \"table\"\n                }\n            },\n            \"pluginVersion\": \"v11.4.0\",\n            \"targets\": [\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (container_memory_working_set_bytes{container=\\\"eventing-controller\\\",namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-controller-.*\\\"})\",\n                    \"legendFormat\": \"Container ({{pod}})\"\n                },\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (go_memory_used_bytes{go_memory_type=\\\"stack\\\",namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-controller-.*\\\"})\",\n                    \"legendFormat\": \"Stack ({{pod}})\"\n                },\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (go_memory_used_bytes{go_memory_type=\\\"other\\\",namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-controller-.*\\\"})\",\n                    \"legendFormat\": \"Heap (In Use) ({{pod}})\"\n                },\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (go_memstats_heap_alloc_bytes{namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-controller-.*\\\"})\",\n                    \"legendFormat\": \"Heap (Allocated) ({{pod}})\"\n                }\n            ],\n            \"title\": \"Memory Usage\",\n            \"type\": \"timeseries\"\n        },\n        {\n            \"datasource\": {\n                \"type\": \"datasource\",\n                \"uid\": \"-- Mixed --\"\n            },\n            \"description\": \"Details about memory allocations\",\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"custom\": {\n                        \"fillOpacity\": 10,\n                        \"gradientMode\": \"hue\",\n                        \"showPoints\": \"never\"\n                    },\n                    \"unit\": \"Bps\"\n                },\n                \"overrides\": [\n                    {\n                        \"matcher\": {\n                            \"id\": \"byFrameRefID\",\n                            \"options\": \"B\"\n                        },\n                        \"properties\": [\n                            {\n                                \"id\": \"custom.axisPlacement\",\n                                \"value\": \"right\"\n                            },\n                            {\n                                \"id\": \"unit\",\n                                \"value\": \"c/s\"\n                            }\n                        ]\n                    }\n                ]\n            },\n            \"gridPos\": {\n                \"h\": 8,\n                \"w\": 6,\n                \"x\": 12,\n                \"y\": 1\n            },\n            \"id\": 4,\n            \"interval\": \"5s\",\n            \"options\": {\n                \"legend\": {\n                    \"calcs\": [\n                        \"last\",\n                        \"max\"\n                    ],\n                    \"displayMode\": \"table\"\n                }\n            },\n            \"pluginVersion\": \"v11.4.0\",\n            \"targets\": [\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (rate(go_memory_allocated_bytes_total{namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-controller-.*\\\"}[$__rate_interval]))\",\n                    \"legendFormat\": \"Bytes ({{pod}})\"\n                },\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (rate(go_memory_allocations_total{namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-controller-.*\\\"}[$__rate_interval]))\",\n                    \"legendFormat\": \"Objects ({{pod}})\"\n                }\n            ],\n            \"title\": \"Memory Allocations\",\n            \"type\": \"timeseries\"\n        },\n        {\n            \"datasource\": {\n                \"type\": \"datasource\",\n                \"uid\": \"-- Mixed --\"\n            },\n            \"description\": \"Goroutine count for each running instance\",\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"custom\": {\n                        \"fillOpacity\": 10,\n                        \"gradientMode\": \"hue\",\n                        \"showPoints\": \"never\"\n                    },\n                    \"decimals\": 0,\n                    \"unit\": \"short\"\n                }\n            },\n            \"gridPos\": {\n                \"h\": 8,\n                \"w\": 6,\n                \"x\": 18,\n                \"y\": 1\n            },\n            \"id\": 5,\n            \"interval\": \"5s\",\n            \"options\": {\n                \"legend\": {\n                    \"calcs\": [\n                        \"last\",\n                        \"max\"\n                    ],\n                    \"displayMode\": \"table\"\n                }\n            },\n            \"pluginVersion\": \"v11.4.0\",\n            \"targets\": [\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (go_goroutine_count{namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-controller-.*\\\"})\",\n                    \"legendFormat\": \"Goroutines ({{pod}})\"\n                }\n            ],\n            \"title\": \"Goroutines\",\n            \"type\": \"timeseries\"\n        },\n        {\n            \"collapsed\": false,\n            \"gridPos\": {\n                \"h\": 1,\n                \"w\": 24,\n                \"x\": 0,\n                \"y\": 9\n            },\n            \"id\": 6,\n            \"panels\": [\n\n            ],\n            \"title\": \"Webhook\",\n            \"type\": \"row\"\n        },\n        {\n            \"datasource\": {\n                \"type\": \"datasource\",\n                \"uid\": \"-- Mixed --\"\n            },\n            \"description\": \"CPU usage of each running instance\",\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"custom\": {\n                        \"fillOpacity\": 10,\n                        \"gradientMode\": \"hue\",\n                        \"showPoints\": \"never\"\n                    }\n                }\n            },\n            \"gridPos\": {\n                \"h\": 8,\n                \"w\": 6,\n                \"x\": 0,\n                \"y\": 10\n            },\n            \"id\": 7,\n            \"interval\": \"5s\",\n            \"options\": {\n                \"legend\": {\n                    \"calcs\": [\n                        \"last\",\n                        \"max\"\n                    ],\n                    \"displayMode\": \"table\"\n                }\n            },\n            \"pluginVersion\": \"v11.4.0\",\n            \"targets\": [\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (irate(container_cpu_usage_seconds_total{container=\\\"eventing-webhook\\\",namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-webhook-.*\\\"}[$__rate_interval]))\",\n                    \"legendFormat\": \"Container ({{pod}})\"\n                }\n            ],\n            \"title\": \"CPU Usage\",\n            \"type\": \"timeseries\"\n        },\n        {\n            \"datasource\": {\n                \"type\": \"datasource\",\n                \"uid\": \"-- Mixed --\"\n            },\n            \"description\": \"Memory usage of each running instance\",\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"custom\": {\n                        \"fillOpacity\": 10,\n                        \"gradientMode\": \"hue\",\n                        \"showPoints\": \"never\"\n                    },\n                    \"unit\": \"bytes\"\n                }\n            },\n            \"gridPos\": {\n                \"h\": 8,\n                \"w\": 6,\n                \"x\": 6,\n                \"y\": 10\n            },\n            \"id\": 8,\n            \"interval\": \"5s\",\n            \"options\": {\n                \"legend\": {\n                    \"calcs\": [\n                        \"last\",\n                        \"max\"\n                    ],\n                    \"displayMode\": \"table\"\n                }\n            },\n            \"pluginVersion\": \"v11.4.0\",\n            \"targets\": [\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (container_memory_working_set_bytes{container=\\\"eventing-webhook\\\",namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-webhook-.*\\\"})\",\n                    \"legendFormat\": \"Container ({{pod}})\"\n                },\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (go_memory_used_bytes{go_memory_type=\\\"stack\\\",namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-webhook-.*\\\"})\",\n                    \"legendFormat\": \"Stack ({{pod}})\"\n                },\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (go_memory_used_bytes{go_memory_type=\\\"other\\\",namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-webhook-.*\\\"})\",\n                    \"legendFormat\": \"Heap (In Use) ({{pod}})\"\n                },\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (go_memstats_heap_alloc_bytes{namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-webhook-.*\\\"})\",\n                    \"legendFormat\": \"Heap (Allocated) ({{pod}})\"\n                }\n            ],\n            \"title\": \"Memory Usage\",\n            \"type\": \"timeseries\"\n        },\n        {\n            \"datasource\": {\n                \"type\": \"datasource\",\n                \"uid\": \"-- Mixed --\"\n            },\n            \"description\": \"Details about memory allocations\",\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"custom\": {\n                        \"fillOpacity\": 10,\n                        \"gradientMode\": \"hue\",\n                        \"showPoints\": \"never\"\n                    },\n                    \"unit\": \"Bps\"\n                },\n                \"overrides\": [\n                    {\n                        \"matcher\": {\n                            \"id\": \"byFrameRefID\",\n                            \"options\": \"B\"\n                        },\n                        \"properties\": [\n                            {\n                                \"id\": \"custom.axisPlacement\",\n                                \"value\": \"right\"\n                            },\n                            {\n                                \"id\": \"unit\",\n                                \"value\": \"c/s\"\n                            }\n                        ]\n                    }\n                ]\n            },\n            \"gridPos\": {\n                \"h\": 8,\n                \"w\": 6,\n                \"x\": 12,\n                \"y\": 10\n            },\n            \"id\": 9,\n            \"interval\": \"5s\",\n            \"options\": {\n                \"legend\": {\n                    \"calcs\": [\n                        \"last\",\n                        \"max\"\n                    ],\n                    \"displayMode\": \"table\"\n                }\n            },\n            \"pluginVersion\": \"v11.4.0\",\n            \"targets\": [\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (rate(go_memory_allocated_bytes_total{namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-webhook-.*\\\"}[$__rate_interval]))\",\n                    \"legendFormat\": \"Bytes ({{pod}})\"\n                },\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (rate(go_memory_allocations_total{namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-webhook-.*\\\"}[$__rate_interval]))\",\n                    \"legendFormat\": \"Objects ({{pod}})\"\n                }\n            ],\n            \"title\": \"Memory Allocations\",\n            \"type\": \"timeseries\"\n        },\n        {\n            \"datasource\": {\n                \"type\": \"datasource\",\n                \"uid\": \"-- Mixed --\"\n            },\n            \"description\": \"Goroutine count for each running instance\",\n            \"fieldConfig\": {\n                \"defaults\": {\n                    \"custom\": {\n                        \"fillOpacity\": 10,\n                        \"gradientMode\": \"hue\",\n                        \"showPoints\": \"never\"\n                    },\n                    \"decimals\": 0,\n                    \"unit\": \"short\"\n                }\n            },\n            \"gridPos\": {\n                \"h\": 8,\n                \"w\": 6,\n                \"x\": 18,\n                \"y\": 10\n            },\n            \"id\": 10,\n            \"interval\": \"5s\",\n            \"options\": {\n                \"legend\": {\n                    \"calcs\": [\n                        \"last\",\n                        \"max\"\n                    ],\n                    \"displayMode\": \"table\"\n                }\n            },\n            \"pluginVersion\": \"v11.4.0\",\n            \"targets\": [\n                {\n                    \"datasource\": {\n                        \"type\": \"prometheus\",\n                        \"uid\": \"$datasource\"\n                    },\n                    \"expr\": \"sum by (pod) (go_goroutine_count{namespace=\\\"knative-eventing\\\",pod=~\\\"eventing-webhook-.*\\\"})\",\n                    \"legendFormat\": \"Goroutines ({{pod}})\"\n                }\n            ],\n            \"title\": \"Goroutines\",\n            \"type\": \"timeseries\"\n        }\n    ],\n    \"schemaVersion\": 39,\n    \"templating\": {\n        \"list\": [\n            {\n                \"name\": \"datasource\",\n                \"query\": \"prometheus\",\n                \"type\": \"datasource\"\n            }\n        ]\n    },\n    \"time\": {\n        \"from\": \"now-6h\",\n        \"to\": \"now\"\n    },\n    \"timezone\": \"utc\",\n    \"title\": \"Knative Eventing - Control Plane Efficiency\"\n}"
   },
   "kind": "ConfigMap",
   "metadata": {
      "labels": {
         "grafana_dashboard": "1"
      },
      "name": "eventing-dashboards",
      "namespace": "knative-eventing"
   }
}
